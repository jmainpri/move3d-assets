p3d_beg_desc P3D_ENV TableManipBiGraph

  p3d_read_macro OB_shelf.macro shelf 0.015
  p3d_set_obst_pos shelf 1.700 1.600 0 0 0 0
  p3d_read_macro OB_shelf.macro shelf2 0.015
  p3d_set_obst_pos shelf2 -1.700 1.600 0 0 0 0

  p3d_read_macro tablechair.macro chair1 1.1
  p3d_set_obst_pos chair1 -0.600 0.400 0 0 0 0
  p3d_read_macro tablechair.macro chair2 1.1
  p3d_set_obst_pos chair2 0.600 0.400 0 0 0 180
  p3d_read_macro tablechair.macro chair3 1.1
  p3d_set_obst_pos chair3 0 -0.600 0 0 0 90
  p3d_read_macro tablechair.macro chair4 1.1
  p3d_set_obst_pos chair4 0 1.500 0 0 0 -90

  p3d_read_macro wodentable.macro table 1.1
  p3d_set_obst_pos table  0 0.400 0 0 0 0

  p3d_read_macro JustinMobilePlateSmall.macro justin

p3d_end_desc
######################
######## COLOR #######
######################
# p3d_set_obst_color BaseSupport1 Any 0.95 0.95 0.95
p3d_set_env_box -2.800 2.800 -2.800 2.800 -0.050 3.000

######################
##### CONSTRAINTS ####
######################

# Torso J3
p3d_constraint p3d_min_max_dofs 0  2 4 3  2 0 135  0
# Torso J4
p3d_constraint p3d_lin_rel_dofs 1 5  2 3 4  3 -1 -1 0  0

#Right Arm
p3d_constraint p3d_kuka_arm_ik 6 10 11 13 14 15 16  1 35  0  3 12 1 3
p3d_set_singularity 2  1 13 0
p3d_set_singularity 2  2 11 0  12 0
p3d_set_singularity 2  2 11 0  15 90
p3d_set_singularity 2  2 14 0  15 0
p3d_set_singular_rel 2 0 4  1 5  1 7  3 5  3 7
p3d_set_singular_rel 2 1 2  1 3  5 7
p3d_set_singular_rel 2 3 2  1 5  3 7

#Left Arm
p3d_constraint p3d_kuka_arm_ik 6 18 19 21 22 23 24  1 35  0  3 20 -1 1
# p3d_set_singularity 6  1 20 0
p3d_set_singularity 3  2 19 0  20 0
# p3d_set_singular_rel 6 0 3  5 3  3 7  7 5
p3d_set_singular_rel 3 0 1  1 3


#Right Arm
p3d_set_cntrt_Tatt 2  0.173  0      0.984  0.020
                      0.171  0.984  -0.030  -0.560
                     -0.969  0.173  0.171  0.040

#Left Arm
p3d_set_cntrt_Tatt 3  0.173  0     -0.984  0.020
                     -0.171 -0.984 -0.030  0.560
                     -0.969  0.173 -0.171  0.040

#Head
p3d_constraint p3d_fixed_jnt 1 7  0  1 0 0
p3d_constraint p3d_fixed_jnt 1 8  0  1 0 0

######################
#### MULTI GRAPH #####
######################

p3d_multi_graph 12  10 11 12 13 14 15 16 25 26 27 28 29
p3d_multi_graph 12  18 19 20 21 22 23 24 30 31 32 33 34

p3d_set_removable_bb_for_grasp 10 25 26 27 28 29 30 31 32 33 34
p3d_set_object_base_and_arm_constraints 35 1 0  2  2 3

p3d_set_open_chain_config 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -1.653320 0.451470 82.109633 0.000000 0.000000 12.167063 -12.167063 0.000000 0.000000 0 -114 0 0 90 0 0 0 -114 0 0 90 0 0 1.100 -0.600 0.061613 0.000000 0.000000 90.000000
p3d_set_closed_chain_config 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 1.700000 0.865859 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -1.633310 -86.504908 6.686324 81.225373 1.233547 72.312920 132.912815 -1.343976 -85.001226 6.686324 79.373657 1.791188 70.941372 133.928482 2.050 0.873156 0.486985 0.000000 0.000000 0.000000

#   p3d_create_reeds_shepp_local_method 0.0001 1


#closedChain
# p3d_set_robot_current 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 1.693679 0.620246 8.666460 71.533736 0.000000 79.513779 -79.513779 0.000000 0.000000 83.067223 -56.607800 -116.629306 64.663170 135.283619 39.414508 98.242088 60.033153 -28.532401 -106.581554 72.528422 124.393568 35.475809 104.648116 1.700000 1.434239 0.430000 0.000000 0.000000 90.000000


#openchain
# p3d_set_robot_current 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -1.653323 0.451470 82.109633 90.000000 0.000000 12.167063 -12.167063 0.000000 0.000000 0 -108 0 0 90 0 0 0 -108 0 0 90 0 0 1.700 1.000 0.061613 0.000000 0.000000 90.000000
# p3d_set_robot_goto 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -1.650000 0.786627 0.000000 90.000000 0.000000 7.765487 -7.765487 0.000000 0.000000 46.774682 -58.159965 -117.877648 65.976118 127.217903 5.770384 100.291448 13.103136 -60.778497 -52.505091 65.745233 82.573923 34.534386 92.435080 -1.650000 1.160275 0.380383 0.000000 0.000000 90.000000

#grasp
# p3d_set_robot_current 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 1.904409 0.542885 82.877842 28.676779 57.241149 2.983968 -60.225116 0.000000 0.000000 -5.266148 -3.380891 -60.180300 89.420754 117.030994 23.587279 114.013347 63.834430 -54.708775 -74.580635 51.242676 78.273428 58.133313 125.019693 1.700000 1.434239 0.430000 -0.000000 0.000000 90.000000
# p3d_set_robot_goto 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 1.904409 0.542885 82.877842 38.775052 30.862333 47.999662 -78.861995 0.000000 0.000000 -31.321272 -4.469081 -35.000242 89.542347 125.418962 24.955054 108.612727 71.080546 -86.938305 -48.250618 38.251340 57.377472 73.770146 116.386323 1.700000 1.434239 0.430000 -0.000000 0.000000 90.000000

# p3d_set_robot_current 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 1.732094 -1.225848 93.163453 -1.973032 2.070510 12.834447 -14.904957 0.000000 0.000000 31.635655 -71.138917 -35.285856 15.711733 41.956570 47.819201 135.000000 40.289538 -84.729888 0.351483 15.689123 3.451805 47.913348 131.486924 1.700000 -0.589970 0.430000 -0.000000 0.000000 90.000000
# p3d_set_robot_goto 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 1.732094 -1.225848 93.163453 -1.973032 2.070510 12.834447 -14.904957 0.000000 0.000000 29.893388 -86.586371 -0.648219 36.618293 13.147044 59.078193 121.484021 40.289538 -84.729888 0.351483 15.689123 3.451805 47.913348 131.486924 1.700000 -0.589970 0.430000 0.000000 0.000000 90.000000

# Scenario
# p3d_set_robot_current 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -1.653323 0.451470 82.109633 0.000000 0.000000 12.167063 -12.167063 0.000000 0.000000 0.000000 -114.000000 0.000000 0.000000 90.000000 0.000000 0.000000 0.000000 -114.000000 0.000000 0.000000 90.000000 0.000000 0.000000 1.700000 1.434239 0.430000 0.000000 0.000000 90.000000
# p3d_set_robot_goto 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -1.650000 0.786627 0.000000 90.000000 0.000000 7.765487 -7.765487 0.000000 0.000000 46.774682 -58.159965 -117.877648 65.976118 127.217903 5.770384 100.291448 13.103136 -60.778497 -52.505091 65.745233 82.573923 34.534386 92.435080 -1.650000 1.430230 0.430000 0.000000 0.000000 90.000000

#stay within dist
p3d_set_robot_current 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -1.653323 0.451470 82.109633 0.000000 0.000000 12.167063 -12.167063 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 90.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 90.000000 0.000000 0.000000 2.400000 -2.400000 1.300000 0.000000 0.000000 90.000000
p3d_set_robot_goto 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -1.653323 -2.000000 -31.858410 0.000000 0.000000 12.167063 -12.167063 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 90.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 90.000000 0.000000 0.000000 2.400000 -2.400000 1.300000 0.000000 0.000000 90.000000

p3d_add_desc_rob_col_init justin
p3d_desactivate_col_check automatic2
p3d_desactivate_col_check GPlatform-1 GTorso3-1
p3d_desactivate_col_check GPlatform-1 GTorso4-1
p3d_desactivate_col_check GPlatform-1 Ghead1-1
p3d_desactivate_col_check GPlatform-1 Ghead2-1
p3d_desactivate_col_check GPlatform-1 GrArm1-1
p3d_desactivate_col_check GPlatform-1 GrArm2-1
p3d_desactivate_col_check GPlatform-1 GlArm1-1
p3d_desactivate_col_check GPlatform-1 GlArm2-1

p3d_desactivate_col_check GTorso1-1 GTorso4-1
p3d_desactivate_col_check GTorso1-1 Ghead1-1
p3d_desactivate_col_check GTorso1-1 Ghead2-1
p3d_desactivate_col_check GTorso1-1 GrArm1-1
p3d_desactivate_col_check GTorso1-1 GrArm2-1
p3d_desactivate_col_check GTorso1-1 GlArm1-1
p3d_desactivate_col_check GTorso1-1 GlArm2-1

p3d_desactivate_col_check GTorso2-1 Ghead1-1
p3d_desactivate_col_check GTorso2-1 Ghead2-1
p3d_desactivate_col_check GTorso2-1 GrArm1-1
p3d_desactivate_col_check GTorso2-1 GrArm2-1
p3d_desactivate_col_check GTorso2-1 GlArm1-1
p3d_desactivate_col_check GTorso2-1 GlArm2-1

p3d_desactivate_col_check GTorso3-1 Ghead2-1
p3d_desactivate_col_check GTorso3-1 GrArm1-1
p3d_desactivate_col_check GTorso3-1 GrArm2-1
p3d_desactivate_col_check GTorso3-1 GlArm1-1
p3d_desactivate_col_check GTorso3-1 GlArm2-1

p3d_desactivate_col_check Ghead1-1 GrArm1-1
p3d_desactivate_col_check Ghead1-1 GrArm2-1
p3d_desactivate_col_check Ghead1-1 GlArm1-1
p3d_desactivate_col_check Ghead1-1 GlArm2-1

p3d_desactivate_col_check Ghead2-1 GrArm1-1
p3d_desactivate_col_check Ghead2-1 GrArm2-1
p3d_desactivate_col_check Ghead2-1 GlArm1-1
p3d_desactivate_col_check Ghead2-1 GlArm2-1

p3d_desactivate_col_check GrArm1-1 GrArm4-1
p3d_desactivate_col_check GrArm1-1 GrArm5-1
p3d_desactivate_col_check GrArm1-1 GrArm6-1
p3d_desactivate_col_check GrArm1-1 GrArm7-1

p3d_desactivate_col_check GrArm2-1 GrArm5-1
p3d_desactivate_col_check GrArm2-1 GrArm6-1
p3d_desactivate_col_check GrArm2-1 GrArm7-1

p3d_desactivate_col_check GrArm3-1 GrArm6-1
p3d_desactivate_col_check GrArm3-1 GrArm7-1

p3d_desactivate_col_check GrArm4-1 GrArm7-1
p3d_desactivate_col_check GrArm4-1 GrHandPalm-1
p3d_desactivate_col_check GrArm4-1 GrHandRing-1
p3d_desactivate_col_check GrArm4-1 GrHandMiddle-1
p3d_desactivate_col_check GrArm4-1 GrHandIndex-1
p3d_desactivate_col_check GrArm4-1 GrHandThumb-1

p3d_desactivate_col_check GrArm5-1 GrHandPalm-1
p3d_desactivate_col_check GrArm5-1 GrHandRing-1
p3d_desactivate_col_check GrArm5-1 GrHandMiddle-1
p3d_desactivate_col_check GrArm5-1 GrHandIndex-1
p3d_desactivate_col_check GrArm5-1 GrHandThumb-1

p3d_desactivate_col_check GrArm6-1 GrHandRing-1
p3d_desactivate_col_check GrArm6-1 GrHandMiddle-1
p3d_desactivate_col_check GrArm6-1 GrHandIndex-1
p3d_desactivate_col_check GrArm6-1 GrHandThumb-1

p3d_desactivate_col_check GlArm1-1 GlArm4-1
p3d_desactivate_col_check GlArm1-1 GlArm5-1
p3d_desactivate_col_check GlArm1-1 GlArm6-1
p3d_desactivate_col_check GlArm1-1 GlArm7-1

p3d_desactivate_col_check GlArm2-1 GlArm5-1
p3d_desactivate_col_check GlArm2-1 GlArm6-1
p3d_desactivate_col_check GlArm2-1 GlArm7-1

p3d_desactivate_col_check GlArm3-1 GlArm6-1
p3d_desactivate_col_check GlArm3-1 GlArm7-1

p3d_desactivate_col_check GlArm4-1 GlArm7-1
p3d_desactivate_col_check GlArm4-1 GlHandPalm-1
p3d_desactivate_col_check GlArm4-1 GlHandRing-1
p3d_desactivate_col_check GlArm4-1 GlHandMiddle-1
p3d_desactivate_col_check GlArm4-1 GlHandIndex-1
p3d_desactivate_col_check GlArm4-1 GlHandThumb-1

p3d_desactivate_col_check GlArm5-1 GlHandPalm-1
p3d_desactivate_col_check GlArm5-1 GlHandRing-1
p3d_desactivate_col_check GlArm5-1 GlHandMiddle-1
p3d_desactivate_col_check GlArm5-1 GlHandIndex-1
p3d_desactivate_col_check GlArm5-1 GlHandThumb-1

p3d_desactivate_col_check GlArm6-1 GlHandRing-1
p3d_desactivate_col_check GlArm6-1 GlHandMiddle-1
p3d_desactivate_col_check GlArm6-1 GlHandIndex-1
p3d_desactivate_col_check GlArm6-1 GlHandThumb-1
