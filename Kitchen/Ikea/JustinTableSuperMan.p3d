p3d_beg_desc P3D_ENV Ikea

p3d_read_macro Superman.macro HUMAN
p3d_read_macro JustinMobileGlass.macro JUSTIN_ROBOT

p3d_read_macro Objects/Movable/Lampe.macro Lampe 0.001
p3d_read_macro Objects/Movable/Assiette.macro Assiette 0.05
p3d_read_macro Objects/Movable/Pommes.macro Pommes 0.5
p3d_read_macro Objects/Movable/VerreJusOrange.macro Verre 0.05

#p3d_read_macro OB_mesh1_002.macro OB_mesh1_002 0.01
#p3d_set_obst_pos OB_mesh1_002 -0.3124281 -0.68043237 0.00029881 0 0 0
  
#p3d_read_macro OB_mesh2_002.macro OB_mesh1_001 0.01
#p3d_set_obst_pos OB_mesh1_001 -0.62937038 -0.76340834 0.00029881 0 0 0

#p3d_read_macro OB_mesh3_002.macro OB_mesh1_002 0.01
#p3d_set_obst_pos OB_mesh1_002 -0.83102961 -0.70549894 0.00029881 0 0 0

#p3d_read_macro OB_mesh4_002.macro OB_mesh1_001 0.01
#p3d_set_obst_pos OB_mesh1_001 -0.8242905 -0.71299084 0.00029881 0 0 0

p3d_read_macro OB_mesh6_002.macro OB_mesh1_007 0.01
p3d_set_obst_pos OB_mesh1_007 -0.8242905 -0.71299084 0.00029881 0 0 0
  
p3d_set_env_box -2.45 5 -5 2.45 0 3

#--------------------------------------------------------------------------------------------------
p3d_sel_desc_name P3D_ROBOT HUMAN

p3d_set_robot_current 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.943953 -2.359882 0.697738 1.769915 0.000000 152.212402 0.000000 -3.539824 0.884957 0.884957 -9.734514 2.654872 1.769915 40.707962 15.929199 13.274338 -41.592918 -9.734514 -47.787609 36.661751 -12.389381 36.283184 -0.653887 -55.752213 0.000000 0.000000 105.973450 0.000000 0.000000 95.648972 -5.113079 -7.962143 -12.389381 -3.834807 -67.991638 3.539819 0.884957 -1.769909 70.796471 0.884957 1.769915 70.796471 7.079648 0.000000 -61.061943 -3.539824 0.000000 -59.292034 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.400000 -0.412979 1.300000 -15.929199 3.539829 0.000000 0.000000 0.000000
p3d_set_robot_goto 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.943953 -2.359882 0.697738 1.769915 0.000000 -162.831863 0.000000 -3.539824 0.884957 0.884957 -9.734514 2.654872 1.769915 40.707962 15.929199 13.274338 -41.592918 -9.734514 -26.548672 36.661751 -12.389381 36.283184 -0.653887 -55.752213 0.000000 0.000000 105.973450 0.000000 0.000000 95.648972 -5.113079 -7.962143 -12.389381 -3.834807 -67.991638 3.539819 0.884957 -1.769909 70.796471 0.884957 1.769915 70.796471 7.079648 0.000000 -61.061943 -3.539824 0.000000 -59.292034 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.400000 -0.412979 1.300000 -15.929199 3.539829 0.000000 0.000000 0.000000
#p3d_set_robot_goto 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.825959 0.707964 1.035988 -1.769915 -1.769915 141.592941 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -0.884957 -34.513275 0.884957 4.424776 3.539819 -23.008846 -42.477875 -31.184860 16.814157 -0.884957 -44.754177 -64.601768 0.000000 0.000000 44.764011 0.000000 0.000000 44.026546 -0.639136 9.319078 11.504423 0.000000 0.000000 0.000000 0.000000 -0.884957 -0.884957 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.884957 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.400000 0.000000 1.300000 0.000000 0.000000 0.000000 0.000000 0.000000


p3d_add_desc_rob_col_init HUMAN
  p3d_desactivate_col_check automatic
  p3d_desactivate_col_check AUTH1.l_shoulder  AUTH3.waist
  p3d_desactivate_col_check AUTH2.r_shoulder  AUTH3.waist
  p3d_desactivate_col_check AUTH2.r_wrist AUTH5.r_hip
  p3d_desactivate_col_check AUTH1.l_wrist AUTH4.l_hip
  p3d_desactivate_col_check pelvis AUTH3.waist

#--------------------------------------------------------------------------------------------------
p3d_sel_desc_name P3D_ROBOT JUSTIN_ROBOT

p3d_set_robot_current 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -0.043584 -1.311627 47.787609 -61.937065 -30.036873 46.924778 -16.887905 6.194689 6.214360 -66.863319 -95.575218 -15.044244 115.634224 1.671586 -16.914946 39.690266 50.224486 -104.274252 -70.206482 34.978694 53.773164 -32.059088 -26.988345 0.782883 -1.532242 0.969153 -161.497560 -22.656675 54.611151
p3d_set_robot_goto 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 -0.043584 -1.311627 47.787609 -123.785645 -12.067355 36.969025 -24.901670 6.194689 6.214360 -66.863319 -95.575218 -15.044244 115.634224 1.671586 -16.914946 39.690266 21.506985 -95.288973 -50.147491 59.641560 30.320574 -16.780074 -13.031178 0.223427 -2.082213 0.865895 -168.351237 -9.725943 -13.765328


#Left Arm
p3d_constraint p3d_kuka_arm_ik 6 18 19 21 22 23 24  1 29  0  3 20 -1 1

#p3d_set_cntrt_Tatt 0 	1   0   0   0
# 						0   1   0   0
# 						0   0   1   0
#

p3d_set_cntrt_Tatt 0 0.999995  -0.000687   +0.000482   +0.025748
 		+0.000687   +0.999996   -0.000516   -0.307341
 		-0.000480   +0.000515   +0.999997   -0.050312

#0.999995   -0.000687   +0.000482   +0.015100
#0.000687   +0.999996   -0.000516   -0.335360
#0.000480   +0.000515   +0.999997   -0.024608

p3d_set_object_base_and_arm_constraints 29 1 0 1 0
# 29 1 0  2  2 3
 
# Torso J3 J4
p3d_constraint p3d_min_max_dofs 0  2 4 3  2 0 135  0
p3d_constraint p3d_lin_rel_dofs 1 5  2 3 4  3 -1 -1 0  0

p3d_constraint p3d_fixed_jnt 1 1 0 3 -0.043584 -1.311627 47.787609 0
#p3d_constraint p3d_fixed_jnt 1 2 0 1 51.730579 0
#p3d_constraint p3d_fixed_jnt 1 3 0 1 -33.380035 0
#p3d_constraint p3d_fixed_jnt 1 4 0 1 36.969028 0
#p3d_constraint p3d_fixed_jnt 1 5 0 1 -13.274338 0
p3d_constraint p3d_fixed_jnt 1 7 0 1 6.194689 0
p3d_constraint p3d_fixed_jnt 1 8 0 1 6.214360  0
p3d_constraint p3d_fixed_jnt 1 10 0 1 -66.863319 0
p3d_constraint p3d_fixed_jnt 1 11 0 1 -95.575218 0
p3d_constraint p3d_fixed_jnt 1 12 0 1 -15.044244 0
p3d_constraint p3d_fixed_jnt 1 13 0 1 115.634224 0
p3d_constraint p3d_fixed_jnt 1 14 0 1 1.671586 0
p3d_constraint p3d_fixed_jnt 1 15 0 1 -16.914946 0
p3d_constraint p3d_fixed_jnt 1 16 0 1 39.690266 0

p3d_add_desc_rob_col_init JUSTIN_ROBOT
p3d_desactivate_col_check automatic2
p3d_desactivate_col_check GPlatform-1 GTorso3-1
p3d_desactivate_col_check GPlatform-1 GTorso4-1
p3d_desactivate_col_check GPlatform-1 Ghead1-1
p3d_desactivate_col_check GPlatform-1 Ghead2-1
p3d_desactivate_col_check GPlatform-1 GrArm1-1
p3d_desactivate_col_check GPlatform-1 GrArm2-1
p3d_desactivate_col_check GPlatform-1 GlArm1-1
p3d_desactivate_col_check GPlatform-1 GlArm2-1

p3d_desactivate_col_check GPlatform-2 GTorso3-1
p3d_desactivate_col_check GPlatform-2 GTorso4-1
p3d_desactivate_col_check GPlatform-2 Ghead1-1
p3d_desactivate_col_check GPlatform-2 Ghead2-1
p3d_desactivate_col_check GPlatform-2 GrArm1-1
p3d_desactivate_col_check GPlatform-2 GrArm2-1
p3d_desactivate_col_check GPlatform-2 GlArm1-1
p3d_desactivate_col_check GPlatform-2 GlArm2-1

p3d_desactivate_col_check GPlatform-3 GTorso3-1
p3d_desactivate_col_check GPlatform-3 GTorso4-1
p3d_desactivate_col_check GPlatform-3 Ghead1-1
p3d_desactivate_col_check GPlatform-3 Ghead2-1
p3d_desactivate_col_check GPlatform-3 GrArm1-1
p3d_desactivate_col_check GPlatform-3 GrArm2-1
p3d_desactivate_col_check GPlatform-3 GlArm1-1
p3d_desactivate_col_check GPlatform-3 GlArm2-1

p3d_desactivate_col_check GPlatform-4 GTorso3-1
p3d_desactivate_col_check GPlatform-4 GTorso4-1
p3d_desactivate_col_check GPlatform-4 Ghead1-1
p3d_desactivate_col_check GPlatform-4 Ghead2-1
p3d_desactivate_col_check GPlatform-4 GrArm1-1
p3d_desactivate_col_check GPlatform-4 GrArm2-1
p3d_desactivate_col_check GPlatform-4 GlArm1-1
p3d_desactivate_col_check GPlatform-4 GlArm2-1

p3d_desactivate_col_check GPlatform-5 GTorso3-1
p3d_desactivate_col_check GPlatform-5 GTorso4-1
p3d_desactivate_col_check GPlatform-5 Ghead1-1
p3d_desactivate_col_check GPlatform-5 Ghead2-1
p3d_desactivate_col_check GPlatform-5 GrArm1-1
p3d_desactivate_col_check GPlatform-5 GrArm2-1
p3d_desactivate_col_check GPlatform-5 GlArm1-1
p3d_desactivate_col_check GPlatform-5 GlArm2-1

p3d_desactivate_col_check GTorso1-1 GTorso4-1
p3d_desactivate_col_check GTorso1-1 Ghead1-1
p3d_desactivate_col_check GTorso1-1 Ghead2-1
p3d_desactivate_col_check GTorso1-1 GrArm1-1
p3d_desactivate_col_check GTorso1-1 GrArm2-1
p3d_desactivate_col_check GTorso1-1 GlArm1-1
p3d_desactivate_col_check GTorso1-1 GlArm2-1

p3d_desactivate_col_check GTorso2-1 Ghead1-1
p3d_desactivate_col_check GTorso2-1 Ghead2-1
p3d_desactivate_col_check GTorso2-1 GrArm1-1
p3d_desactivate_col_check GTorso2-1 GrArm2-1
p3d_desactivate_col_check GTorso2-1 GlArm1-1
p3d_desactivate_col_check GTorso2-1 GlArm2-1

p3d_desactivate_col_check GTorso3-1 Ghead2-1
p3d_desactivate_col_check GTorso3-1 GrArm1-1
p3d_desactivate_col_check GTorso3-1 GrArm2-1
p3d_desactivate_col_check GTorso3-1 GlArm1-1
p3d_desactivate_col_check GTorso3-1 GlArm2-1

p3d_desactivate_col_check Ghead1-1 GrArm1-1
p3d_desactivate_col_check Ghead1-1 GrArm2-1
p3d_desactivate_col_check Ghead1-1 GlArm1-1
p3d_desactivate_col_check Ghead1-1 GlArm2-1

p3d_desactivate_col_check Ghead2-1 GrArm1-1
p3d_desactivate_col_check Ghead2-1 GrArm2-1
p3d_desactivate_col_check Ghead2-1 GlArm1-1
p3d_desactivate_col_check Ghead2-1 GlArm2-1

p3d_desactivate_col_check GrArm1-1 GrArm4-1
p3d_desactivate_col_check GrArm1-1 GrArm5-1
p3d_desactivate_col_check GrArm1-1 GrArm6-1
p3d_desactivate_col_check GrArm1-1 GrArm7-1

p3d_desactivate_col_check GrArm2-1 GrArm5-1
p3d_desactivate_col_check GrArm2-1 GrArm6-1
p3d_desactivate_col_check GrArm2-1 GrArm7-1

p3d_desactivate_col_check GrArm3-1 GrArm6-1
p3d_desactivate_col_check GrArm3-1 GrArm7-1

p3d_desactivate_col_check GrArm4-1 GrArm7-1
p3d_desactivate_col_check GrArm4-1 GrHandPalm-1

p3d_desactivate_col_check GrArm5-1 GrHandPalm-1

p3d_desactivate_col_check GlArm1-1 GlArm4-1
p3d_desactivate_col_check GlArm1-1 GlArm5-1
p3d_desactivate_col_check GlArm1-1 GlArm6-1
p3d_desactivate_col_check GlArm1-1 GlArm7-1

p3d_desactivate_col_check GlArm2-1 GlArm5-1
p3d_desactivate_col_check GlArm2-1 GlArm6-1
p3d_desactivate_col_check GlArm2-1 GlArm7-1

p3d_desactivate_col_check GlArm3-1 GlArm6-1
p3d_desactivate_col_check GlArm3-1 GlArm7-1

p3d_desactivate_col_check GlArm4-1 GlArm7-1
p3d_desactivate_col_check GlArm4-1 GlHandPalm-1

p3d_desactivate_col_check GlArm5-1 GlHandPalm-1

p3d_desactivate_col_check GlHandPalm-1 	BO_glass.glass
p3d_desactivate_col_check GlHandPalm-2 	BO_glass.glass
p3d_desactivate_col_check GlHandPalm-3 	BO_glass.glass
p3d_desactivate_col_check GlFingers-1 	BO_glass.glass
p3d_desactivate_col_check GlFingers-2 	BO_glass.glass
p3d_desactivate_col_check GlHandThumb-1 BO_glass.glass


#p3d_set_body_abs_pos GlHandPalm-1 0.088 1.05679 2.03712 -60 0 0
#p3d_set_body_abs_pos GlHandPalm-2 0.07212 1.0913 2.09366 -48.79 -2.266 -0.66
#p3d_set_body_abs_pos GlHandPalm-3 0.13224 1.0934 2.03739 -3.335 -15.251 0.144

#p3d_set_body_abs_pos GlFingers-1 0.065101 1.150 2.150 -40.6 7.67 179.070
#p3d_set_body_abs_pos GlFingers-2 0.065101 1.220 2.205 -40.6 7.67 179.070

#p3d_set_body_abs_pos GlHandRing-1 0.016931 1.185502 2.16647 -41.23 12.63 174.762
#p3d_set_body_abs_pos GlHandMiddle-1 0.065101 1.18437 2.17494 -40.6 7.67 179.070
#p3d_set_body_abs_pos GlHandIndex-1 0.10479 1.18579 2.18311 -40.797 9.81 177.414
#p3d_set_body_abs_pos GlHandThumb-1 0.13039 1.2185 2.0292 -179.87 -12.40 -0.222

p3d_end_desc

